version: "3.1"

intents:
  - greet
  - goodbye
  - thanks
  - affirm
  - deny
  - chitchat
  - bot_challenge
  - out_of_scope
  - add_classroom
  - assign_class_teacher
  - delete_classroom
  - update_school_settings
  - transfer_student
  - input_headteacher_comments
  - add_user_role
  - add_new_user
  - remove_user_role
  - check_schemes
  - evaluate_lesson_plan
  - mark_attendance
  - add_student_to_register
  - remove_student
  - generate_reports
  - link_student_guardian
  - check_attendance
  - create_lesson_plan
  - upload_scores
  - share_scheme
  - receive_shared_plan
  - formative_assessment
  - ask_kurasa
  - nlu_fallback

entities:
  - role
  - class_name
  - person
  - subject

slots:
  last_topic:
    type: text
    influence_conversation: true
    mappings:
      - type: custom

  last_question:
    type: text
    influence_conversation: true
    mappings:
      - type: custom

  conversation_history:
    type: list
    influence_conversation: false
    mappings:
      - type: custom

  role:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: role

  class_name:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: class_name

  person:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: person

  subject:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: subject

forms:
  transfer_student_form:
    required_slots:
      - person
      - class_name

responses:
  # Basics
  utter_greet:
    - text: "Hi there ğŸ‘‹ How can I help you in Kurasa today?"
    - text: "Hey! Ready to get some school tasks done together?"
    - text: "Hello ğŸ™‚ What would you like to do?"

  utter_goodbye:
    - text: "Alright, bye for now! Talk to you soon ğŸ‘‹"
    - text: "See you later! Iâ€™m here whenever you need a hand."

  utter_you_are_welcome:
    - text: "No problem at all ğŸ™Œ"
    - text: "Anytime! Glad I could help ğŸ˜Š"

  # Safety-net
  utter_chitchat:
    - text: "Iâ€™m here to help with Kurasa, but I donâ€™t mind a little chat too ğŸ˜„ Whatâ€™s on your mind?"
    - text: "Haha, good one! Need help with classes, reports, or something else?"

  utter_bot_challenge:
    - text: "Yep, Iâ€™m your Kurasa assistant ğŸ¤– here to guide you."

  utter_affirm:
    - text: "Awesome ğŸ‘ What should we do next?"

  utter_deny:
    - text: "Got it! Letâ€™s try something else then."

  utter_out_of_scope:
    - text: "Hmm, thatâ€™s not something I can handle yet ğŸ¤” I can help with classrooms, users, attendance, reports, and lesson planning."

  # Admin
  utter_add_classroom:
    - text: "Hereâ€™s how to add a classroom:\n1) Open Admin, then Classrooms.\n2) Click Add.\n3) Fill in the details and save."

  utter_assign_class_teacher:
    - text: "Assigning a class teacher:\n1) Go to Admin â†’ Classrooms.\n2) Open the class.\n3) In Class Teacher, click Add and pick the teacher."

  utter_delete_classroom:
    - text: "To remove a classroom:\n1) Admin â†’ Classrooms.\n2) Select the class.\n3) Click Delete and confirm."

  utter_update_school_settings:
    - text: "Update school settings:\n1) Admin â†’ Settings.\n2) Overview tab for name/logo.\n3) Preferences tab for grading, summatives, weights, term dates, and attendance."

  utter_transfer_student:
    - text: "To transfer a student:\n1) Open Classrooms and the Students tab.\n2) Find the learner.\n3) Choose Transfer and pick the new class."

  utter_ask_person:
    - text: "Which student would you like me to transfer?"

  utter_ask_class_name:
    - text: "Okayâ€”what class should we move them to?"

  utter_input_headteacher_comments:
    - text: "Add headteacher comments here:\n1) Admin â†’ Termly Comments.\n2) Pick the term, set role to Headteacher, choose the class.\n3) Enter comments and save."

  utter_add_user_role:
    - text: "Add a role to a user:\n1) Go to Users and find the person.\n2) Open their profile â†’ Add Roles.\n3) Select the roles and save."

  utter_add_new_user:
    - text: "Invite a new user:\n1) Users â†’ Invite new user.\n2) Enter their details.\n3) Assign roles and send."

  utter_remove_user_role:
    - text: "Remove a role:\n1) Users â†’ open the profile.\n2) Untick the role.\n3) Save."

  utter_check_schemes:
    - text: "Check schemes:\n1) Admin â†’ Schemes â†’ My Schemes.\n2) Pick the year to view."

  utter_evaluate_lesson_plan:
    - text: "Evaluate a lesson plan:\n1) Open Lesson Plans.\n2) Select year/cohort/subject/week.\n3) Open a plan and review."

  # Class Teacher
  utter_mark_attendance:
    - text: "Mark attendance:\n1) Class Teacher â†’ Attendance.\n2) Pick today or a date.\n3) Mark and save."

  utter_add_student_to_register:
    - text: "Add a student:\n1) Class Teacher â†’ Students.\n2) Click Add.\n3) Fill details and save."

  utter_remove_student:
    - text: "Remove a student:\n1) Open the learnerâ€™s profile.\n2) Click Delete/Withdraw.\n3) Confirm."

  utter_generate_reports:
    - text: "Reports:\n- Class reports: Admin â†’ Reports.\n- Your class dashboards: Class Teacher â†’ Dashboards."

  utter_link_student_guardian:
    - text: "Link a guardian:\n1) Admin â†’ Students.\n2) Open the learner.\n3) Add guardian details and save."

  utter_check_attendance:
    - text: "To view attendance:\n1) Classroom â†’ Attendance.\n2) Pick the class and date."

  # Subject Teacher
  utter_create_lesson_plan:
    - text: "Create a lesson plan:\n1) Lesson Planning â†’ Create.\n2) Pick class/subject.\n3) Draft and save ğŸ™‚"

  utter_upload_scores:
    - text: "Upload marks:\n1) Open Marks Upload.\n2) Select the class.\n3) Enter or upload scores and save."

  utter_share_scheme:
    - text: "Share a scheme:\n1) Open the scheme in Schemes.\n2) Click Share.\n3) Choose recipients."

  utter_receive_shared_plan:
    - text: "See plans shared with you:\n1) Lesson Plans â†’ Received.\n2) Open the item."

  utter_formative_assessment:
    - text: "Run a quick formative:\n1) Assessments.\n2) Pick the grade/learning area.\n3) Click Mark and use the rubric ğŸ‘"

actions:
  - action_ask_grok
